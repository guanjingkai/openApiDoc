# 卡券
> 制作和生产卡券，包括兑换券、代金券、打折券 

-------

# 1.小云积分介绍
`小云积分`是由`汉云优品`开发并运营的积分共享平台，让新生的数据垃圾[积分]得以更有效的利用，通过小云积分，可以将第三方平台积分导入到小云的`积分总线`系统，对积分进行了重新定义，并赋予了新的能量，可在与小云合作的实体商户进行商品/优惠券的兑换。
### 1.1整体流程
![](ma/media/15078951688349.jpg)

-------
# 2.卡券类型
卡券类型方面，为和微信公众平台卡券打通，卡券类型和公众平台保持一致，分为

|卡券类型|功能描述|
|--------|
|兑换券|可直接兑换某商品|
|代金券|可抵扣一定数量的现金|
|打折券|对商品进行打折|

?>满减券：对于满减券的实现，代金券可设置使用条件，例如消费满一定金额可用，既可以实现满减券

# 3.卡券创建
### 3.1原型/效果图
>这是一个炫酷的`高保真原型`😜😜😜展示，这里你可以任意查看交互

<iframe src="http://10.10.1.58:8088/#/ma_create_voucher" width="900px" height="1220px" frameborder="0" scrolling="no"> </iframe>

### 3.2操作流程
![](ma/media/15078821687583.jpg)

# 4.卡券列表
### 4.1原型/效果图
![](ma/media/15078017134873.jpg)

### 4.2操作流程

### 4.3信息结构
![](ma/media/15078020654416.jpg)

### 4.4用例
见 👉[全局-交互说明-通用列表-通用用例](main/ux?id=通用用例)


### 4.5退出机制
见 👉[全局-交互说明-通用列表-通用推出机制](main/ux?id=通用退出机制)

### 4.6显示及排序机制
|内容控件|加载方式|显示内容|容量|排序机制|刷新机制|新数据加载|
|-------|
|卡券列表|异步加载|文字|10|卡券创建时间倒序|无|翻页/检索|

### 4.7缓存机制
见 👉[全局-交互说明-通用列表-通用缓存机制](main/ux?id=通用缓存机制)

### 4.8控件描述
|控件描述|控件类型|操作|触发源|触发时|触发后|备注|
|-------|
|创建|button|点击|控件本身|弹出卡券创建页面|-|-|
|列表-编辑|button|点击|控件本身|打开卡券编辑页|-|-|
|列表-查看|button|点击|控件本身|打开卡券详情页|-|-|
### 4.9临界值和数据验证
|字段|数据类型|数据长度|验证方案|必填项|
|-------|
|检索-兑换码名称|String|20||否|
|检索-批次/前缀|String|4||否|
|检索-状态|select| - ||否|
### 4.10异常处理
本页面无特殊异常，详见 👉[全局-交互说明-通用列表-通用异常处理](main/ux?id=通用异常处理)

-------
# 5.惠币兑换码生成
### 5.0需求描述
在和第三方平台对接过程中，我们原本希望得到积分导入的`API`，我们认为这是最佳的积分导入方案。

?>用户将授权→确认导入积分数量→第三方平台API→完成导入积分

但是由于部分平台暂无此类API，且研发团队排期已满，为了不影响小云积分的正常推广和平台的对接，我们推出惠币兑换码功能，本功能类似的游戏的充值卡，通过惠币兑换码，可在小云积分应用内直接兑换惠币。我们将生产好的惠币兑换码在第三方平台积分商城上架，从而完成积分的流通。

?>第三方平台积分兑换惠币兑换码→小云积分输入兑换码→完成积分导入
### 5.1原型/效果图
![](ma/media/15078773873923.jpg)
### 5.2操作流程

### 5.3信息结构
![](ma/media/15078671891689.jpg)
### 5.4用例
见 👉[全局-交互说明-通用列表-通用用例](main/ux?id=通用用例)


### 5.5退出机制
见 👉[全局-交互说明-通用列表-通用推出机制](main/ux?id=通用退出机制)

### 5.6显示及排序机制
无😆

### 5.7缓存机制
无😆

### 5.8控件描述
|控件描述|控件类型|操作|触发源|触发时|触发后|备注|
|-------|
|有效期|Vued-datepicker|点击|控件本身|弹出日期选择框|-|-|

>其他字段均为input，无特殊描述，具体详见 [Vued-input]()

### 6.9临界值和数据验证
|字段|数据类型|数据长度|验证方案|必填项|
|-------|
|兑换码名称|String|20||是|
|兑换惠币数量|Number|8||是|
|生成数量|Number|8||是|
|前缀/批次|String|4|[A-Z]{4}|是|
|兑换码位数|Number|1|[5-8]|是|
|有效期|Data|20||是|
### 6.10异常处理
本页面无特殊异常，详见 👉[全局-交互说明-通用列表-通用异常处理](main/ux?id=通用异常处理)

# 6.惠币兑换码列表
### 6.1原型/效果图
![卡券列表](/ma/media/15077965377903.jpg)
### 6.2操作流程

### 6.3信息结构
![](ma/media/15078671891689.jpg)


### 6.4用例
见 👉[全局-交互说明-通用列表-通用用例](main/ux?id=通用用例)


### 6.5退出机制
见 👉[全局-交互说明-通用列表-通用推出机制](main/ux?id=通用退出机制)

### 6.6显示及排序机制
|内容控件|加载方式|显示内容|容量|排序机制|刷新机制|新数据加载|
|-------|
|兑换码列表|异步加载|文字|10|卡券创建时间倒序|无|翻页/检索|

### 6.7缓存机制
见 👉[全局-交互说明-通用列表-通用缓存机制](main/ux?id=通用缓存机制)

### 6.8控件描述
|控件描述|控件类型|操作|触发源|触发时|触发后|备注|
|-------|
|创建|button|点击|控件本身|弹出卡券创建页面|-|-|
|列表-编辑|button|点击|控件本身|打开兑换码编辑页|-|-|
|列表-查看|button|点击|控件本身|打开兑换码详情页|-|-|
### 6.9临界值和数据验证
|字段|数据类型|数据长度|验证方案|必填项|
|-------|
|检索-兑换码名称|String|20||否|
|检索-批次/前缀|String|4||否|
|检索-状态|select| - ||否|
### 6.10异常处理
本页面无特殊异常，详见 👉[全局-交互说明-通用列表-通用异常处理](main/ux?id=通用异常处理)

-------
# 7核销记录查询
### 7.0需求描述
本页面主要功能是查看卡券的核销记录

### 7.1原型/效果图
![](ma/media/15078765230293.jpg)
### 7.2操作流程

### 7.3信息结构
![](ma/media/15078779742056.jpg)


### 7.4用例
见 👉[全局-交互说明-通用列表-通用用例](main/ux?id=通用用例)


### 7.5退出机制
见 👉[全局-交互说明-通用列表-通用推出机制](main/ux?id=通用退出机制)

### 7.6显示及排序机制
|内容控件|加载方式|显示内容|容量|排序机制|刷新机制|新数据加载|
|-------|
|卡券核销列表|异步加载|文字|10|卡券核销时间倒序|无|翻页/检索|

### 7.7缓存机制
见 👉[全局-交互说明-通用列表-通用缓存机制](main/ux?id=通用缓存机制)

### 7.8控件描述
|控件描述|控件类型|操作|触发源|触发时|触发后|备注|
|-------|
|创建|button|点击|控件本身|弹出卡券创建页面|-|-|
|列表-查看|button|点击|控件本身|打开核销记录详情页|-|-|
### 7.9临界值和数据验证
|字段|数据类型|数据长度|验证方案|必填项|
|-------|
|检索-用户名|String|20||否|
|检索-手机号|String|11|国内手机号|否|
|检索-卡券码|Number| 8 ||否|
### 7.10异常处理
本页面无特殊异常，详见 👉[全局-交互说明-通用列表-通用异常处理](main/ux?id=通用异常处理)


